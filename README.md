![è¿™æ˜¯å›¾ç‰‡](./images/title.png)

<div align="center">


**è®© Claude Code ä¸ Codex æ— ç¼åä½œ** 

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT) [![Python Version](https://img.shields.io/badge/python-3.12+-blue.svg)](https://www.python.org/downloads/) [![MCP Compatible](https://img.shields.io/badge/MCP-Compatible-green.svg)](https://modelcontextprotocol.io)[![Share](https://img.shields.io/badge/share-000000?logo=x&logoColor=white)](https://x.com/intent/tweet?text=CodexMCPï¼šè®©%20Claude%20Code%20ä¸%20Codex%20æ— ç¼åä½œ%20https://github.com/GuDaStudio/codexmcp%20%23AI%20%23Coding%20%23MCP) [![Share](https://img.shields.io/badge/share-1877F2?logo=facebook&logoColor=white)](https://www.facebook.com/sharer/sharer.php?u=https://github.com/GuDaStudio/codexmcp) [![Share](https://img.shields.io/badge/share-FF4500?logo=reddit&logoColor=white)](https://www.reddit.com/submit?title=CodexMCPï¼šè®©%20Claude%20Code%20ä¸%20Codex%20æ— ç¼åä½œ&url=https://github.com/GuDaStudio/codexmcp) [![Share](https://img.shields.io/badge/share-0088CC?logo=telegram&logoColor=white)](https://t.me/share/url?url=https://github.com/GuDaStudio/codexmcp&text=CodexMCPï¼šè®©%20Claude%20Code%20ä¸%20Codex%20æ— ç¼åä½œ)


â­ åœ¨GitHubä¸Šç»™æˆ‘ä»¬ç‚¹æ˜Ÿ~æ‚¨çš„æ”¯æŒå¯¹æˆ‘ä»¬æ„ä¹‰é‡å¤§ï¼ ğŸ™ğŸ˜Š

[English](./docs/README_EN.md) | ç®€ä½“ä¸­æ–‡

</div>

---

## ä¸€ã€é¡¹ç›®ç®€ä»‹ 

åœ¨å½“å‰ AI è¾…åŠ©ç¼–ç¨‹ç”Ÿæ€ä¸­ï¼Œ**Claude Code** æ“…é•¿æ¶æ„è®¾è®¡ä¸å…¨å±€æ€è€ƒï¼Œè€Œ **Codex** åœ¨ä»£ç ç”Ÿæˆä¸ç»†èŠ‚ä¼˜åŒ–ä¸Šè¡¨ç°å“è¶Šã€‚**CodexMCP** ä½œä¸ºä¸¤è€…ä¹‹é—´çš„æ¡¥æ¢ï¼Œé€šè¿‡ MCP åè®®è®©å®ƒä»¬ä¼˜åŠ¿äº’è¡¥ï¼š

- **Claude Code**ï¼šè´Ÿè´£éœ€æ±‚åˆ†æã€æ¶æ„è§„åˆ’ã€ä»£ç é‡æ„
- **Codex**ï¼šè´Ÿè´£ç®—æ³•å®ç°ã€bug å®šä½ã€ä»£ç å®¡æŸ¥
- **CodexMCP**ï¼šç®¡ç†ä¼šè¯ä¸Šä¸‹æ–‡ï¼Œæ”¯æŒå¤šè½®å¯¹è¯ä¸å¹¶è¡Œä»»åŠ¡

ç›¸æ¯”å®˜æ–¹ Codex MCP å®ç°ï¼ŒCodexMCP å¼•å…¥äº†**ä¼šè¯æŒä¹…åŒ–**ã€**å¹¶è¡Œæ‰§è¡Œ**å’Œ**æ¨ç†è¿½è¸ª**ç­‰ä¼ä¸šçº§ç‰¹æ€§ï¼Œè®© AI ç¼–ç¨‹åŠ©æ‰‹ä¹‹é—´çš„åä½œæ›´åŠ æ™ºèƒ½é«˜æ•ˆã€‚CodexMCP ä¸å®˜æ–¹ Codex MCP åŒºåˆ«ä¸€è§ˆï¼š


| ç‰¹æ€§ | å®˜æ–¹ç‰ˆ | CodexMCP |
|------|--------|----------|
| åŸºæœ¬ Codex è°ƒç”¨ | âˆš | âˆš |
| å¤šè½®å¯¹è¯ | Ã— | âˆš |
| æ¨ç†è¯¦æƒ…è¿½è¸ª | Ã— | âˆš |
| å¹¶è¡Œä»»åŠ¡æ”¯æŒ | Ã—  | âˆš  |
| é”™è¯¯å¤„ç† | Ã—  | âˆš  |


---

## äºŒã€å¿«é€Ÿå¼€å§‹

### 0. å‰ç½®è¦æ±‚

è¯·ç¡®ä¿æ‚¨å·²æˆåŠŸ**å®‰è£…**å’Œ**é…ç½®**claude codeä¸codexä¸¤ä¸ªç¼–ç¨‹å·¥å…·ã€‚
- [Claude Code å®‰è£…æŒ‡å—](https://docs.claude.com/docs/claude-code)
- [Codex CLI å®‰è£…æŒ‡å—](https://developers.openai.com/codex/quickstart)

> [!IMPORTANT]
> è¯·ç¡®ä¿æ‚¨çš„claude codeç‰ˆæœ¬åœ¨v2.0.56ä»¥ä¸Šï¼›codex cliç‰ˆæœ¬åœ¨v0.61.0ä»¥ä¸Šï¼

è¯·ç¡®ä¿æ‚¨å·²æˆåŠŸå®‰è£…[uvå·¥å…·](https://docs.astral.sh/uv/getting-started/installation/)ï¼š

- Windows
  åœ¨Powershellä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
  ```
  powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
  ```

- Linux/macOS
  ä½¿ç”¨curl/wgetä¸‹è½½å¹¶å®‰è£…:
  ```
  curl -LsSf https://astral.sh/uv/install.sh | sh #ä½¿ç”¨curl

  wget -qO- https://astral.sh/uv/install.sh | sh #ä½¿ç”¨wget
  ```

**æ³¨æ„ï¼Œæˆ‘ä»¬æåŠ›æ¨èWindowsç”¨æˆ·åœ¨WSLä¸­è¿è¡Œæœ¬é¡¹ç›®ï¼**

<!-- å¦‚æœæ‚¨æ­£åœ¨ä¸ºè®¢é˜…å’Œé…ç½®è€Œå¿§æ„ï¼Œæˆ‘ä»¬éå¸¸æ¬¢è¿æ‚¨[ç§¯æè”ç³»æˆ‘ä»¬](https://cc.guda.studio)ã€‚ -->

### 1. å®‰è£…æ­¥éª¤

**1.1** ç§»é™¤å®˜æ–¹ Codex MCPï¼ˆå¦‚æœå·²å®‰è£…ï¼‰ã€‚

```bash
claude mcp remove codex
```

**1.2** å®‰è£… CodexMCPã€‚

```bash
claude mcp add codex -s user --transport stdio -- uvx --from git+https://github.com/GuDaStudio/codexmcp.git codexmcp
```

**1.3** éªŒè¯å®‰è£…ã€‚åœ¨ **ç»ˆç«¯** ä¸­è¿è¡Œï¼š

```
claude mcp list
```

> [!IMPORTANT]
> å¦‚æœçœ‹åˆ°å¦‚ä¸‹æè¿°ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼
>  `codex: uvx --from git+https://github.com/GuDaStudio/codexmcp.git codexmcp - âœ“ Connected` 

**1.4** å¯é€‰æ‹©é»˜è®¤å…è®¸claude codeè‡ªåŠ¨ä¸codexäº¤äº’ï¼Œåœ¨`~/.claude/settings.json`æ·»åŠ  `mcp__codex__codex` allowé¡¹
![](images/image.png)

### 2. é…ç½®claude codeæç¤ºè¯ï¼ˆå¯é€‰ï¼‰

ä¸ºä½¿claude codeæ›´å¥½å®Œæˆä¸codexçš„ååŒå·¥ä½œï¼Œæˆ‘ä»¬**æåŠ›æ¨èæ‚¨åœ¨ `~/.claude/CLAUDE.md`ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹**

<details>
<summary>å±•å¼€æŸ¥çœ‹prompt</summary>


```
## Core Instruction for CodeX MCP

åœ¨ä»»ä½•æ—¶åˆ»ï¼Œä½ å¿…é¡»æ€è€ƒå½“å‰è¿‡ç¨‹å¯ä»¥å¦‚ä½•ä¸codexè¿›è¡Œåä½œï¼Œå¦‚ä½•è°ƒç”¨Codex ä¸ºä½ æä¾›çš„MCPå·¥å…·ä½œä¸ºä½ å®¢è§‚å…¨é¢åˆ†æçš„ä¿éšœã€‚
å…¶ä¸­ä½ **åŠ¡å¿…æ‰§è¡Œ**ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š
**1** åœ¨ä½ å¯¹ç”¨æˆ·éœ€æ±‚å½¢æˆåˆæ­¥åˆ†æåï¼Œå°†ç”¨æˆ·éœ€æ±‚ã€åˆå§‹æ€è·¯å‘ŠçŸ¥codexï¼Œå¹¶è¦æ±‚å…¶å®Œå–„éœ€æ±‚åˆ†æå’Œå®æ–½è®¡åˆ’ã€‚
**2** åœ¨å®æ–½å…·ä½“ç¼–ç ä»»åŠ¡å‰ï¼Œ**å¿…é¡»å‘codexç´¢è¦ä»£ç å®ç°åŸå‹ï¼ˆè¦æ±‚codexä»…ç»™å‡ºunified diff patchï¼Œä¸¥ç¦å¯¹ä»£ç åšä»»ä½•çœŸå®ä¿®æ”¹ï¼‰**ã€‚åœ¨è·å–ä»£ç åŸå‹åï¼Œä½ **åªèƒ½ä»¥æ­¤ä¸ºé€»è¾‘å‚è€ƒï¼Œå†æ¬¡å¯¹ä»£ç ä¿®æ”¹è¿›è¡Œé‡å†™**ï¼Œå½¢æˆä¼ä¸šç”Ÿäº§çº§åˆ«ã€å¯è¯»æ€§æé«˜ã€å¯ç»´æŠ¤æ€§æé«˜çš„ä»£ç åï¼Œæ‰èƒ½å®æ–½å…·ä½“ç¼–ç¨‹ä¿®æ”¹ä»»åŠ¡ã€‚
**3** æ— è®ºä½•æ—¶ï¼Œåªè¦å®Œæˆåˆ‡å®ç¼–ç è¡Œä¸ºåï¼Œ**å¿…é¡»ç«‹å³ä½¿ç”¨codex reviewä»£ç æ”¹åŠ¨å’Œå¯¹åº”éœ€æ±‚å®Œæˆç¨‹åº¦**ã€‚
**4** codexåªèƒ½ç»™å‡ºå‚è€ƒï¼Œä½ **å¿…é¡»æœ‰è‡ªå·±çš„æ€è€ƒï¼Œç”šè‡³éœ€è¦å¯¹codexçš„å›ç­”æå‡ºç½®ç–‘**ã€‚å°½ä¿¡ä¹¦åˆ™ä¸å¦‚æ— ä¹¦ï¼Œä½ ä¸codexçš„æœ€ç»ˆä½¿å‘½éƒ½æ˜¯è¾¾æˆç»Ÿä¸€ã€å…¨é¢ã€ç²¾å‡†çš„æ„è§ï¼Œæ‰€ä»¥ä½ ä»¬å¿…é¡»ä¸æ–­äº‰è¾©å·²æ‰¾åˆ°é€šå‘çœŸç†çš„å”¯ä¸€é€”å¾„ã€‚


## Codex Tool Invocation Specification

 1. å·¥å…·æ¦‚è¿°

  codex MCP æä¾›äº†ä¸€ä¸ªå·¥å…· `codex`ï¼Œç”¨äºæ‰§è¡Œ AI è¾…åŠ©çš„ç¼–ç ä»»åŠ¡ã€‚è¯¥å·¥å…·**é€šè¿‡ MCP åè®®è°ƒç”¨**ï¼Œæ— éœ€ä½¿ç”¨å‘½ä»¤è¡Œã€‚

  2. å·¥å…·å‚æ•°

  **å¿…é€‰**å‚æ•°ï¼š
  - PROMPT (string): å‘é€ç»™ codex çš„ä»»åŠ¡æŒ‡ä»¤
  - cd (Path): codex æ‰§è¡Œä»»åŠ¡çš„å·¥ä½œç›®å½•æ ¹è·¯å¾„

  å¯é€‰å‚æ•°ï¼š
  - sandbox (string): æ²™ç®±ç­–ç•¥ï¼Œå¯é€‰å€¼ï¼š
    - "read-only" (é»˜è®¤): åªè¯»æ¨¡å¼ï¼Œæœ€å®‰å…¨
    - "workspace-write": å…è®¸åœ¨å·¥ä½œåŒºå†™å…¥
    - "danger-full-access": å®Œå…¨è®¿é—®æƒé™
  - SESSION_ID (UUID | null): ç”¨äºç»§ç»­ä¹‹å‰çš„ä¼šè¯ä»¥ä¸codexè¿›è¡Œå¤šè½®äº¤äº’ï¼Œé»˜è®¤ä¸º Noneï¼ˆå¼€å¯æ–°ä¼šè¯ï¼‰
  - skip_git_repo_check (boolean): æ˜¯å¦å…è®¸åœ¨é Git ä»“åº“ä¸­è¿è¡Œï¼Œé»˜è®¤ False
  - return_all_messages (boolean): æ˜¯å¦è¿”å›æ‰€æœ‰æ¶ˆæ¯ï¼ˆåŒ…æ‹¬æ¨ç†ã€å·¥å…·è°ƒç”¨ç­‰ï¼‰ï¼Œé»˜è®¤ False
  - image (List[Path] | null): é™„åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå›¾ç‰‡æ–‡ä»¶åˆ°åˆå§‹æç¤ºè¯ï¼Œé»˜è®¤ä¸º None
  - model (string | null): æŒ‡å®šä½¿ç”¨çš„æ¨¡å‹ï¼Œé»˜è®¤ä¸º Noneï¼ˆä½¿ç”¨ç”¨æˆ·é»˜è®¤é…ç½®ï¼‰
  - yolo (boolean | null): æ— éœ€å®¡æ‰¹è¿è¡Œæ‰€æœ‰å‘½ä»¤ï¼ˆè·³è¿‡æ²™ç®±ï¼‰ï¼Œé»˜è®¤ False
  - profile (string | null): ä» `~/.codex/config.toml` åŠ è½½çš„é…ç½®æ–‡ä»¶åç§°ï¼Œé»˜è®¤ä¸º Noneï¼ˆä½¿ç”¨ç”¨æˆ·é»˜è®¤é…ç½®ï¼‰

  è¿”å›å€¼ï¼š
  {
    "success": true,
    "SESSION_ID": "uuid-string",
    "agent_messages": "agentå›å¤çš„æ–‡æœ¬å†…å®¹",
    "all_messages": []  // ä»…å½“ return_all_messages=True æ—¶åŒ…å«
  }
  æˆ–å¤±è´¥æ—¶ï¼š
  {
    "success": false,
    "error": "é”™è¯¯ä¿¡æ¯"
  }

  3. ä½¿ç”¨æ–¹å¼

  å¼€å¯æ–°å¯¹è¯ï¼š
  - ä¸ä¼  SESSION_ID å‚æ•°ï¼ˆæˆ–ä¼  Noneï¼‰
  - å·¥å…·ä¼šè¿”å›æ–°çš„ SESSION_ID ç”¨äºåç»­å¯¹è¯

  ç»§ç»­ä¹‹å‰çš„å¯¹è¯ï¼š
  - å°†ä¹‹å‰è¿”å›çš„ SESSION_ID ä½œä¸ºå‚æ•°ä¼ å…¥
  - åŒä¸€ä¼šè¯çš„ä¸Šä¸‹æ–‡ä¼šè¢«ä¿ç•™

  4. è°ƒç”¨è§„èŒƒ

  **å¿…é¡»éµå®ˆ**ï¼š
  - æ¯æ¬¡è°ƒç”¨ codex å·¥å…·æ—¶ï¼Œå¿…é¡»ä¿å­˜è¿”å›çš„ SESSION_IDï¼Œä»¥ä¾¿åç»­ç»§ç»­å¯¹è¯
  - cd å‚æ•°å¿…é¡»æŒ‡å‘å­˜åœ¨çš„ç›®å½•ï¼Œå¦åˆ™å·¥å…·ä¼šé™é»˜å¤±è´¥
  - ä¸¥ç¦codexå¯¹ä»£ç è¿›è¡Œå®é™…ä¿®æ”¹ï¼Œä½¿ç”¨ sandbox="read-only" ä»¥é¿å…æ„å¤–ï¼Œå¹¶è¦æ±‚codexä»…ç»™å‡ºunified diff patchå³å¯

  æ¨èç”¨æ³•ï¼š
  - å¦‚éœ€è¯¦ç»†è¿½è¸ª codex çš„æ¨ç†è¿‡ç¨‹å’Œå·¥å…·è°ƒç”¨ï¼Œè®¾ç½® return_all_messages=True
  - å¯¹äºç²¾å‡†å®šä½ã€debugã€ä»£ç åŸå‹å¿«é€Ÿç¼–å†™ç­‰ä»»åŠ¡ï¼Œä¼˜å…ˆä½¿ç”¨ codex å·¥å…·

  5. æ³¨æ„äº‹é¡¹

  - ä¼šè¯ç®¡ç†ï¼šå§‹ç»ˆè¿½è¸ª SESSION_IDï¼Œé¿å…ä¼šè¯æ··ä¹±
  - å·¥ä½œç›®å½•ï¼šç¡®ä¿ cd å‚æ•°æŒ‡å‘æ­£ç¡®ä¸”å­˜åœ¨çš„ç›®å½•
  - é”™è¯¯å¤„ç†ï¼šæ£€æŸ¥è¿”å›å€¼çš„ success å­—æ®µï¼Œå¤„ç†å¯èƒ½çš„é”™è¯¯

```

</details>



---

## ä¸‰ã€å·¥å…·è¯´æ˜

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹codexå·¥å…·å‚æ•°è¯´æ˜</summary>

| å‚æ•° | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `PROMPT` | `str` | âœ… | - | å‘é€ç»™ Codex çš„ä»»åŠ¡æŒ‡ä»¤ |
| `cd` | `Path` | âœ… | - | Codex å·¥ä½œç›®å½•æ ¹è·¯å¾„ |
| `sandbox` | `Literal` | âŒ | `"read-only"` | æ²™ç®±ç­–ç•¥ï¼š`read-only` / `workspace-write` / `danger-full-access` |
| `SESSION_ID` | `UUID \| None` | âŒ | `None` | ä¼šè¯ IDï¼ˆNone åˆ™å¼€å¯æ–°ä¼šè¯ï¼‰ |
| `skip_git_repo_check` | `bool` | âŒ | `False` | æ˜¯å¦å…è®¸åœ¨é Git ä»“åº“è¿è¡Œ |
| `return_all_messages` | `bool` | âŒ | `False` | æ˜¯å¦è¿”å›å®Œæ•´æ¨ç†ä¿¡æ¯ |
| `image` | `List[Path] \| None` | âŒ | `None` | é™„åŠ å›¾ç‰‡æ–‡ä»¶åˆ°åˆå§‹æç¤ºè¯ |
| `model` | `str \| None` | âŒ | `None` | æŒ‡å®šä½¿ç”¨çš„æ¨¡å‹ï¼ˆé»˜è®¤ä½¿ç”¨ç”¨æˆ·é…ç½®ï¼‰ |
| `yolo` | `bool \| None` | âŒ | `False` | æ— éœ€å®¡æ‰¹è¿è¡Œæ‰€æœ‰å‘½ä»¤ï¼ˆè·³è¿‡æ²™ç®±ï¼‰ |
| `profile` | `str \| None` | âŒ | `None` | ä» `~/.codex/config.toml` åŠ è½½çš„é…ç½®æ–‡ä»¶åç§° |

</details>

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹codexå·¥å…·è¿”å›å€¼ç»“æ„</summary>

**æˆåŠŸæ—¶ï¼š**
```json
{
  "success": true,
  "SESSION_ID": "550e8400-e29b-41d4-a716-446655440000",
  "agent_messages": "Codex çš„å›å¤å†…å®¹...",
  "all_messages": [...]  // ä»…å½“ return_all_messages=True æ—¶åŒ…å«
}
```

**å¤±è´¥æ—¶ï¼š**
```json
{
  "success": false,
  "error": "é”™è¯¯ä¿¡æ¯æè¿°"
}
```

</details>

---

## å››ã€FAQ

<details>
<summary>Q1: æ˜¯å¦éœ€è¦é¢å¤–ä»˜è´¹ï¼Ÿ</summary>

 **CodexMCP æœ¬èº«å®Œå…¨å…è´¹å¼€æºï¼Œæ— éœ€ä»»ä½•é¢å¤–ä»˜è´¹ï¼** 

</details>

<details>
<summary>Q2: å¹¶è¡Œè°ƒç”¨ä¼šå†²çªå—ï¼Ÿ</summary>

ä¸ä¼šã€‚æ¯ä¸ªè°ƒç”¨ä½¿ç”¨ç‹¬ç«‹çš„ `SESSION_ID`ï¼Œå®Œå…¨éš”ç¦»ã€‚

</details>


---

## ğŸ¤ è´¡çŒ®æŒ‡å—

<details>
<summary>æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼</summary>

### å¼€å‘ç¯å¢ƒé…ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/GuDaStudio/codexmcp.git
cd codexmcp

# å®‰è£…ä¾èµ–
uv sync
```

### æäº¤è§„èŒƒ

- éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/)
- æäº¤æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°æ–‡æ¡£

</details>



---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚
Copyright (c) 2025 [guda.studio](mailto:gudaclaude@gmail.com)

---
<div align="center">

## ç”¨ ğŸŒŸ ä¸ºæœ¬é¡¹ç›®åŠ©åŠ›~
[![Star History Chart](https://api.star-history.com/svg?repos=GuDaStudio/codexmcp&type=date&legend=top-left)](https://www.star-history.com/#GuDaStudio/codexmcp&type=date&legend=top-left)

</div>